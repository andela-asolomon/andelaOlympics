include ../shared/layout
.overlay
    .content.comp.row
        h1 HOW?
        p.col.s12.m10.l8
            | Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
            | tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
            | quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
            | consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse
            | cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non
            | proident, sunt in culpa qui officia deserunt mollit anim id est laborum
        .row.clear
          .col.s4.m3.l3
              h2 WHAT?
              p {{competition.details.what.description}}
          .col.s4
              h2 WHO?
              p {{competition.details.who.description}}
          .col.s4
              h2 WHEN?
              p
                | {{competition.details.when.startDate}}
                | -
                | {{competition.details.when.endDate}}

    .content.teams.row
        h1 Teams
        .row
          .col.s12.m3(ng-repeat='(team_id, team) in competition.teams')
            .flip-container
              .flipper
                .front
                  .card.blue-grey.darken-1.trans
                    .card-content.white-text
                      .card-title
                        span {{team.name}}
                      ul.team-members
                        li.collection-item
                            .team-member(ng-repeat='member in team.members')
                              img.circle.avatar(ng-src='{{member.picture}}', ng-alt='{{member.name}}')
                              span.title(ng-bind-template='{{member.name}}') {{member.name}}
                .back
                  .card.blue-grey.darken-1.trans
                    .card-content.white-text
                      span.card-title Iconic
                      p
                        | I am a very simple card. I am good at containing small bits of information.
                        | I am convenient because I require little markup to use effectively.
                    .card-action.right-align
                      a(href='#' ng-click='joinTeam(team_id)')
                        i.mdi-social-person-add
                      a(href='#' ng-click='registerTeam(team_id)')
                        i.mdi-content-send
  .fixed-action-btn(style='bottom: 65px; right: 40px;' href='#create-team-modal')
    a.btn-floating.btn-large.red
      i.mdi-content-add
include modals/create-team


script(type='text/javascript').
  $(function() {
    $('.modal-trigger').leanModal();
    $('.teams-link').on('click', function() {
      $('.overlay').scrollTo('.content.teams', 800);
    });
    $('.comp-details').on('click', function() {
      $('.overlay').scrollTo('.content.comp', 800);
    });
  });
